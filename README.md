# REST-API
REST-API (Java, Spring, MySQL) 

Реализована REST-API средствами языка программирования Java и фреймворка Spring.
В качестве СУБД выбрана MySQL. Для работы с базой данных использован JDBC / Hibernate;

Более детально:
  1. Реализована авторизация по логину и паролю (admin:admin). Тип авторизации: JWT;
  2. Реализована CRUD модель для работы с пользователями (контактная информация);
  3. Реализована CRUD модель для работы с детальной информацией о пользователе;
 
Хранимая информации о "пользователе":
1 ) Фамилия
2 ) Имя
3 ) Отчество
4 ) Дата рождения
5 ) Электронная почта
6 ) Номер телефона


Одно из преимуществ авторизации с использованием JWT – это возможность выделить выдачу токенов и работу с данными пользователей в отдельное приложение, переложив механизм валидации токенов на клиентские приложения. Этот механизм отлично подходит микросервисной архитекутуре.

Схема авторизации:

Пользователь рисылает объект с логином и паролем.
Если пароль подходит, то мы генерируем access и refresh токены и отправляем их в ответ.
Access токен пользователь используется для взаимодействия с остальным нашим API.
Через пять минут, когда access токен протухает, фронт отправляет refresh токен и получает новый access токен. И так по кругу, пока не протухнет refresh токен.
Рефреш токен выдается на 30 дней. 

Сущности:
  1. User - класс пользователя системы ;
  2. UserService, у него будет только один метод, который возвращает пользователя по логину;
  3. JwtRequest, который пользователь будет присылать, чтобы получить JWT токен. Он содержит поля: логин пользователя и его пароль;
  4. JwtResponse, который будет содержать access и refresh токены. Этот объект мы будем возвращать в ответ;
  5. JwtProvider. Он будет генерировать и валидировать access и refresh токены.
  6. AuthService для проверки ппароля, который также будет отвечать за получение новых access и refresh токенов взамен протухающим;
  7. JwtFilter, который и будет осуществлять авторизацию пользователей.

Провекрка работы

  1.Добавляем нового пользователя. Для этого шлем POST запрос по адресу http://localhost:8080/api/user/add с body
      {
          "login": "anton",
          "password": "1234",
          "firstName": "Антон",
          "lastName": "Петров",
          "patronymic" : "Петрович",
          "dateOfBirth" : "15.09.1998",
          "email" : "email@mail.ru",
          "number" : "number"
      }
      
 2. Получаем по логину и паролю access и refresh токены
 
 URL: http://localhost:8080/api/auth/login
 Body:
     {
        "login" : "anton",
        "password" : "1234"
     }
     
  Продолжение следует ...
